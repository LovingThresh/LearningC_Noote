<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex">  <meta name="built-on" content="2023-12-11T09:36:15.7223846"><meta name="build-number" content="${buildNumber}">       <title>变量地址 | Code Instance</title><script id="virtual-toc-data" type="application/json">[{"id":"d7f51f2f_573","level":0,"title":"变量地址处理","anchor":"#d7f51f2f_573"}]</script><script id="topic-shortcuts" type="application/json"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="变量地址 | Code Instance"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="Code Instance Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="变量地址.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="变量地址 | Code Instance"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "变量地址.html#webpage", "url": "变量地址.html", "name": "变量地址 | Code Instance", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "/#website", "url": "/", "name": "Code Instance Help" }</script><!-- End Schema.org --></head>      <body data-id="变量地址" data-main-title="变量地址" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="地址与指针.md|地址与指针"  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Code Instance  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="变量地址"   id="变量地址.md">变量地址</h1>  <section class="chapter"><h2 id="d7f51f2f_573" data-toc="d7f51f2f_573"   >变量地址处理</h2><ul class="list _ul" id="d7f51f2f_574"><li class="list__item" id="d7f51f2f_575"><p>不同的变量所对应的地址处理方式略有不同，取决于变量的类型（<span class="control" id="d7f51f2f_576">全局/静态变量、局部变量、动态分配的变量</span>）。</p></li></ul><section class="chapter"><h3 id="d7f51f2f_577" data-toc="d7f51f2f_577"   >全局和静态变量</h3><ul class="list _ul" id="d7f51f2f_578"><li class="list__item" id="d7f51f2f_579"><p><span class="control" id="d7f51f2f_580">编译器和链接器处理</span> ：全局变量和静态变量的地址在编译和链接过程中确定。这些变量通常存储在程序的数据段（对于已初始化的静态和全局变量）或BSS段（对于未初始化的静态和全局变量）。</p></li><li class="list__item" id="d7f51f2f_581"><p><span class="control" id="d7f51f2f_582">内存位置固定</span> ：这些变量的地址在程序运行期间是固定的，即编译链接后确定的地址在整个程序运行期间不变。</p></li></ul></section><section class="chapter"><h3 id="d7f51f2f_583" data-toc="d7f51f2f_583"   >局部变量</h3><ul class="list _ul" id="d7f51f2f_584"><li class="list__item" id="d7f51f2f_585"><p><span class="control" id="d7f51f2f_586">运行时在栈上分配</span> ：局部变量（函数内的变量）通常在运行时存储在栈上。每次函数调用时，这些变量的地址都在栈上动态分配。</p></li><li class="list__item" id="d7f51f2f_587"><p><span class="control" id="d7f51f2f_588">动态地址</span> ：这意味着局部变量的具体地址只有在程序运行时才确定，每次函数调用可能都不同。</p></li></ul></section><section class="chapter"><h3 id="d7f51f2f_589" data-toc="d7f51f2f_589"   >动态分配的变量</h3><ul class="list _ul" id="d7f51f2f_590"><li class="list__item" id="d7f51f2f_591"><p><span class="control" id="d7f51f2f_592">运行时在堆上分配</span> ：通过 <code class="code" id="d7f51f2f_593">new</code> 或 <code class="code" id="d7f51f2f_594">malloc</code> 等操作动态分配的变量存储在堆上。它们的地址在运行时动态确定。</p></li><li class="list__item" id="d7f51f2f_595"><p><span class="control" id="d7f51f2f_596">动态地址</span> ：这些变量的地址取决于运行时堆的状态和内存管理器的具体实现。</p></li></ul></section><section class="chapter"><h3 id="d7f51f2f_597" data-toc="d7f51f2f_597"   >示例</h3><p id="d7f51f2f_598">以下是一个展示全局变量、局部变量和动态分配变量地址的例子：</p><div class="code-block" data-lang="cpp"         >
int globalVar; // 全局变量

void myFunction() {
    int localVar; // 局部变量
    int* heapVar = new int; // 动态分配的变量

    // 输出地址
    std::cout &lt;&lt; &quot;Global variable address: &quot; &lt;&lt; &amp;globalVar &lt;&lt; std::endl;
    std::cout &lt;&lt; &quot;Local variable address: &quot; &lt;&lt; &amp;localVar &lt;&lt; std::endl;
    std::cout &lt;&lt; &quot;Heap variable address: &quot; &lt;&lt; heapVar &lt;&lt; std::endl;

    delete heapVar;
}
</div><p id="d7f51f2f_600">在这个例子中， <code class="code" id="d7f51f2f_601">globalVar</code> 的地址是在编译和链接时确定的，而 <code class="code" id="d7f51f2f_602">localVar</code> 的地址是在函数调用时在栈上动态分配的， <code class="code" id="d7f51f2f_603">heapVar</code> 指向的地址是在运行时从堆上分配的。</p></section><section class="chapter"><h3 id="d7f51f2f_604" data-toc="d7f51f2f_604"   >总结</h3><ul class="list _ul" id="d7f51f2f_605"><li class="list__item" id="d7f51f2f_606"><p>变量的地址处理取决于变量的存储位置（全局/静态、栈上的局部变量、堆上的动态分配变量）。</p></li><li class="list__item" id="d7f51f2f_607"><p>全局和静态变量的地址在编译和链接时确定，而局部变量和动态分配的变量的地址则在运行时确定。</p></li></ul></section></section><div class="last-modified"> Last modified: 11 十二月 2023</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="函数地址.html">函数地址</a>   <a class="navigation-links__next" href="抽象.html">抽象</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>